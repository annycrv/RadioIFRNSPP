{% extends "registration/base.html" %}
{% load static %}

{% block title %}Meu Perfil{% endblock title %}
{% block titulo_pagina %}Meu Perfil{% endblock titulo_pagina %}

{% block content %}

<!-- BOTÃO DE VOLTAR -->
<a href="{% url 'dashboard:index' %}" 
   class="btn btn-success shadow-sm position-absolute top-0 start-0 m-3 d-flex justify-content-center align-items-center"
   style="width: 40px; height: 40px; border-radius: 50%; z-index: 9999;">
    <i class="bi bi-arrow-left"></i>
</a>

<div class="page-wrapper position-relative">
    <div class="auth-container row g-0">

        <!-- COLUNA DA IMAGEM -->
        <div class="left-column col-lg-5 order-1 text-center">
            {% block imagem_lateral %} 
                <img src="{% static 'radio/img/padrao_perfil2.svg' %}" class="img-fluid" alt="Perfil">
            {% endblock imagem_lateral %}
        </div>

        <!-- COLUNA DIREITA - PERFIL -->
        <div class="right-column col-lg-7 order-2 p-4">
            <div class="auth-box w-100">

                <h1 class="auth-title">Meu Perfil</h1>

                <div class="perfil-box">

                    <!-- FOTO DO PERFIL -->
                    <div class="perfil-foto-container">
                        {% if request.user.foto_perfil %}
                            <img src="{{ request.user.foto_perfil.url }}" class="perfil-foto">
                        {% else %}
                            <img src="{% static 'radio/img/avatarpadrao.jpg' %}" class="perfil-foto">
                        {% endif %}
                    </div>

                    <!-- INFO -->
                    <div class="perfil-info-list">

                        <div class="perfil-info-item">
                            <p class="perfil-info-label">Nome</p>
                            <p class="perfil-info-value">{{ user.first_name }}</p>
                        </div>

                        <div class="perfil-info-item">
                            <p class="perfil-info-label">Usuário</p>
                            <p class="perfil-info-value">{{ user.username }}</p>
                        </div>

                        <div class="perfil-info-item">
                            <p class="perfil-info-label">Email</p>
                            <p class="perfil-info-value">{{ user.email }}</p>
                        </div>

                    </div>

                    <!-- BOTÃO EDITAR -->
                    <a href="{% url 'usuarios:editando_perfil' %}" 
                       class="editar btn btn-primary w-50 py-2" 
                       style="margin: 0;">
                        Editar Perfil
                    </a>

                </div>
            </div>
        </div>

    </div>
</div>

{% endblock %}
