{% extends "radio/base.html" %}
{% block title %}Programas{% endblock %}
{% load static %}
{% block content %}
   <h2 class="titulo mb-4 text-center mt-5 ">programas</h2>
    <hr class="decorativa mx-auto mb-5">

<!-- Card Programa -->
<div class="container my-3">
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"> <!-- ✔ controla as colunas -->

    {% for programa in programas %}
      <div class="col d-flex"> <!-- d-flex ajuda os cards a terem mesma altura -->
        <div class="card programa-card shadow-sm w-100 d-flex flex-column">
          {% if programa.banner_programa %}         
            <img src="{{ programa.banner_programa.url }}" class="card-img-top" alt="Banner {{ programa.nome_programa }}">
          {% else %}
            <img src="https://via.placeholder.com/300x150" class="card-img-top" alt="Banner padrão">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="fw-bold mb-2 mt-3 text-gradient">{{ programa.nome_programa }}</h5>
            <p class="mb-3">{{ programa.descricao_programa|truncatewords:12 }}</p>

            <div class="d-flex align-items-center mt-auto pt-2 border-top">
              <i class="bi bi-person-circle text-pink fs-6 me-2"></i>
              <div>
                <small class="text-muted d-block lh-1">Artista</small>
                <span class="fw-semibold small">{{ programa.artista_programa }}</span>
              </div>
            </div>
          </div>

        </div>
      </div>
    {% empty %}
      <div class="col">
        <p class="text-center text-muted">Não há programas cadastrados.</p>
      </div>
    {% endfor %}
  </div>
</div>

{% if programas.paginator.count > 0 %}
<!-- Paginação -->
<nav aria-label="Page navigation" class="mt-4">
  <ul class="pagination justify-content-center">

    <!-- Botão Primeiro / Anterior -->
    {% if programas.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{ programas.previous_page_number }}">«</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <span class="page-link">«</span>
      </li>
    {% endif %}

    <!-- Números das páginas -->
    {% for num in programas.paginator.page_range %}
      {% if programas.number == num %}
        <li class="page-item active">
          <span class="page-link">{{ num }}</span>
        </li>
      {% else %}
        <li class="page-item">
          <a class="page-link" href="?page={{ num }}">{{ num }}</a>
        </li>
      {% endif %}
    {% endfor %}

    <!-- Botão Próxima / Última -->
    {% if programas.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ programas.next_page_number }}">»</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <span class="page-link">»</span>
      </li>
    {% endif %}

  </ul>
</nav>
{%endif%}

{% endblock %}
